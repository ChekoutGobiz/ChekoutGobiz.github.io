<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Keranjang Belanja</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <table>
    <thead>
      <tr>
        <th></th>
        <th>Produk</th>
        <th>Harga Satuan</th>
        <th>Kuantitas</th>
        <th>Total Harga</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody id="cart-items">
      <!-- Produk di keranjang akan ditambahkan di sini -->
    </tbody>
  </table>

  <div class="total">
    <p>Total (<span id="total-products">0</span> produk): Rp<span id="total-price">0</span></p>
    <button>Checkout</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const cartItemsContainer = document.querySelector('#cart-items');
      const totalProductsElement = document.querySelector('#total-products');
      const totalPriceElement = document.querySelector('#total-price');
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
  
      // Fungsi untuk menampilkan produk di keranjang
      function displayCartItems() {
        let totalPrice = 0;
        let totalProducts = 0;
  
        cartItemsContainer.innerHTML = ''; // Kosongkan elemen sebelumnya
        cart.forEach(item => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td><input type="checkbox" checked></td>
            <td><p>${item.name}</p></td>
            <td>Rp${item.price.toLocaleString()}</td>
            <td>
              <button class="kurang" data-id="${item.id}">-</button>
              <span class="kuantitas">${item.quantity}</span>
              <button class="tambah" data-id="${item.id}">+</button>
            </td>
            <td>Rp${(item.price * item.quantity).toLocaleString()}</td>
            <td>
              <button class="hapus" data-id="${item.id}">Hapus</button>
            </td>
          `;
          cartItemsContainer.appendChild(row);
  
          totalPrice += item.price * item.quantity;
          totalProducts += item.quantity;
        });
  
        // Perbarui total harga dan jumlah produk
        totalPriceElement.textContent = totalPrice.toLocaleString();
        totalProductsElement.textContent = totalProducts;
      }
  
      // Tampilkan produk saat halaman dimuat
      displayCartItems();
    });
  </script>
  
</body>
</html>